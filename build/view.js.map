{"version":3,"file":"view.js","mappings":";;;;;AAAA;AACA,MAAMA,gBAAgB,GAAGC,QAAQ,CAACC,aAAa,CAAE,uBAAuB,CAAE;AAC1E,MAAMC,cAAc,GAAGF,QAAQ,CAACC,aAAa,CAAE,eAAe,CAAE;AAChE,MAAME,SAAS,GAAGH,QAAQ,CAACC,aAAa,CAAE,mBAAmB,CAAE;AAC/D,MAAMG,SAAS,GAAGJ,QAAQ,CAACC,aAAa,CAAE,mBAAmB,CAAE;AAC/DG,SAAS,CAACC,SAAS,CAACC,GAAG,CAAE,MAAM,CAAE,CAAC,CAAC;;AAEnC,MAAMC,kBAAkB,GAAGP,QAAQ,CAACQ,gBAAgB,CAAE,mBAAmB,CAAE;AAC3E,MAAMC,UAAU,GAAGT,QAAQ,CAACQ,gBAAgB,CAAE,oBAAoB,CAAE;AACpE,MAAME,UAAU,GAAG,EAAE;;AAErB;AACAH,kBAAkB,CAACI,OAAO,CAAIC,QAAQ,IAAM;EAC3C,IAAKA,QAAQ,CAACC,WAAW,KAAK,EAAE,EAAG;IAClCD,QAAQ,CAACC,WAAW,GAAG,eAAe;IACtCD,QAAQ,CAACE,OAAO,CAACF,QAAQ,GAAG,eAAe;EAC5C;EACAF,UAAU,CAACK,IAAI,CAAEH,QAAQ,CAACC,WAAW,CAAE;AACxC,CAAC,CAAE;AAEH,MAAMG,eAAe,GAAG,CAAE,KAAK,EAAE,GAAG,IAAIC,GAAG,CAAEP,UAAU,CAAE,CAAE;;AAE3D;AACA;AACA;AACA,MAAMQ,aAAa,GAAKC,EAAE,IAAM;EAC/B,MAAMC,aAAa,GAClBD,EAAE,CAACE,WAAW,GAAGF,EAAE,CAACG,WAAW,IAAIH,EAAE,CAACI,YAAY,GAAGJ,EAAE,CAACK,YAAY;EACrE,OAAOJ,aAAa;AACrB,CAAC;AACD;AACA,IAAKF,aAAa,CAAEhB,cAAc,CAAE,KAAK,KAAK,EAAG;EAChDC,SAAS,CAACE,SAAS,CAACC,GAAG,CAAE,MAAM,CAAE;AAClC,CAAC,MAAM;EACNH,SAAS,CAACE,SAAS,CAACoB,MAAM,CAAE,MAAM,CAAE;AACrC;;AAEA;AACA;AACA;AACA,MAAMC,WAAW,GAAKC,CAAC,IAAM;EAC5B;EACA3B,QAAQ,CACNQ,gBAAgB,CAAE,gCAAgC,CAAE,CACpDG,OAAO,CAAIiB,GAAG,IAAMA,GAAG,CAACvB,SAAS,CAACoB,MAAM,CAAE,QAAQ,CAAE,CAAE;;EAExD;EACAE,CAAC,CAACE,MAAM,CAACxB,SAAS,CAACC,GAAG,CAAE,QAAQ,CAAE;;EAElC;EACAG,UAAU,CAACE,OAAO,CAAImB,IAAI,IAAMA,IAAI,CAACzB,SAAS,CAACoB,MAAM,CAAE,MAAM,CAAE,CAAE;EAEjE,IAAKE,CAAC,CAACE,MAAM,CAACf,OAAO,CAACF,QAAQ,KAAK,KAAK,EAAG;IAC1C;;IAEA;IACA,MAAMmB,kBAAkB,GAAG/B,QAAQ,CAACQ,gBAAgB,CAClD,+CAA+CmB,CAAC,CAACE,MAAM,CAACf,OAAO,CAACF,QAAU,MAAK,CAChF;;IAED;IACAmB,kBAAkB,CAACpB,OAAO,CAAImB,IAAI,IAAM;MACvCA,IAAI,CAACzB,SAAS,CAACC,GAAG,CAAE,SAAS,CAAE;;MAE/B;MACAwB,IAAI,CAACE,gBAAgB,CACpB,cAAc,EACd,MAAM;QACLF,IAAI,CAACzB,SAAS,CAACC,GAAG,CAAE,MAAM,CAAE;QAC5BwB,IAAI,CAACzB,SAAS,CAACoB,MAAM,CAAE,SAAS,CAAE;;QAElC;QACA,IAAKP,aAAa,CAAEhB,cAAc,CAAE,KAAK,KAAK,EAAG;UAChDC,SAAS,CAACE,SAAS,CAACC,GAAG,CAAE,MAAM,CAAE;UACjCF,SAAS,CAACC,SAAS,CAACC,GAAG,CAAE,MAAM,CAAE;QAClC,CAAC,MAAM;UACNH,SAAS,CAACE,SAAS,CAACoB,MAAM,CAAE,MAAM,CAAE;QACrC;MACD,CAAC,EACD;QAAEQ,IAAI,EAAE;MAAK,CAAC,CACd;IACF,CAAC,CAAE;EACJ,CAAC,MAAM;IACN9B,SAAS,CAACE,SAAS,CAACoB,MAAM,CAAE,MAAM,CAAE;EACrC;AACD,CAAC;;AAED;AACA;AACA;AACAT,eAAe,CAACL,OAAO,CAAIC,QAAQ,IAAM;EACxC,MAAMsB,MAAM,GAAGlC,QAAQ,CAACmC,aAAa,CAAE,QAAQ,CAAE;EACjDD,MAAM,CAACE,SAAS,GAAGxB,QAAQ;EAC3BsB,MAAM,CAAC7B,SAAS,GAAI,gBAAgBO,QAAU,EAAC;EAC/CsB,MAAM,CAACpB,OAAO,CAACF,QAAQ,GAAGA,QAAQ;EAClC,IAAKA,QAAQ,KAAK,KAAK,EAAGsB,MAAM,CAAC7B,SAAS,CAACC,GAAG,CAAE,QAAQ,CAAE;EAC1DP,gBAAgB,CAACsC,MAAM,CAAEH,MAAM,CAAE;EACjCA,MAAM,CAACF,gBAAgB,CAAE,OAAO,EAAEN,WAAW,CAAE;AAChD,CAAC,CAAE;;AAEH;AACA;AACA;;AAEA;AACAvB,SAAS,CAAC6B,gBAAgB,CAAE,OAAO,EAAE,MAAM;EAC1C,MAAMM,QAAQ,GAAGtC,QAAQ,CAACQ,gBAAgB,CACzC,+BAA+B,CAC/B;EACDN,cAAc,CAACqC,QAAQ,CAAE;IACxBC,IAAI,EAAEtC,cAAc,CAACuC,UAAU,GAAGH,QAAQ,CAAE,CAAC,CAAE,CAACI,WAAW,GAAG,CAAC;IAC/DC,QAAQ,EAAE;EACX,CAAC,CAAE;EAEHvC,SAAS,CAACC,SAAS,CAACoB,MAAM,CAAE,MAAM,CAAE;EAEpC,IACCvB,cAAc,CAACwC,WAAW,GAAGxC,cAAc,CAACuC,UAAU,GAAG,CAAC,IAC1DvC,cAAc,CAACoB,WAAW,EAE1BnB,SAAS,CAACE,SAAS,CAACC,GAAG,CAAE,MAAM,CAAE;AACnC,CAAC,CAAE;;AAEH;AACAF,SAAS,CAAC4B,gBAAgB,CAAE,OAAO,EAAE,MAAM;EAC1C,MAAMM,QAAQ,GAAGtC,QAAQ,CAACQ,gBAAgB,CACzC,+BAA+B,CAC/B;EACDN,cAAc,CAACqC,QAAQ,CAAE;IACxBC,IAAI,EAAEtC,cAAc,CAACuC,UAAU,GAAGH,QAAQ,CAAE,CAAC,CAAE,CAACI,WAAW,GAAG,EAAE;IAChEC,QAAQ,EAAE;EACX,CAAC,CAAE;EAEHxC,SAAS,CAACE,SAAS,CAACoB,MAAM,CAAE,MAAM,CAAE;EAEpC,IAAKvB,cAAc,CAACuC,UAAU,KAAK,CAAC,EAAGrC,SAAS,CAACC,SAAS,CAACC,GAAG,CAAE,MAAM,CAAE;AACzE,CAAC,CAAE;;AAEH;AACAJ,cAAc,CAAC8B,gBAAgB,CAAE,QAAQ,EAAE,MAAM;EAChD,IACC9B,cAAc,CAACwC,WAAW,GAAGxC,cAAc,CAACuC,UAAU,IACtDvC,cAAc,CAACoB,WAAW,EACzB;IACDnB,SAAS,CAACE,SAAS,CAACC,GAAG,CAAE,MAAM,CAAE;IACjCF,SAAS,CAACC,SAAS,CAACoB,MAAM,CAAE,MAAM,CAAE;EACrC,CAAC,MAAM,IAAKvB,cAAc,CAACuC,UAAU,KAAK,CAAC,EAAG;IAC7CrC,SAAS,CAACC,SAAS,CAACC,GAAG,CAAE,MAAM,CAAE;IACjCH,SAAS,CAACE,SAAS,CAACoB,MAAM,CAAE,MAAM,CAAE;EACrC;AACD,CAAC,CAAE,C","sources":["webpack://ob-user-grid-slider/./src/view.js"],"sourcesContent":["// DOM elements selection\nconst filtersContainer = document.querySelector( '.ob-user-grid-filters' );\nconst usersContainer = document.querySelector( '.ob-user-grid' );\nconst arrowNext = document.querySelector( '.ob-user-nav-next' );\nconst arrowPrev = document.querySelector( '.ob-user-nav-prev' );\narrowPrev.classList.add( 'hide' ); //hide the prev arrow\n\nconst categoriesNodeList = document.querySelectorAll( 'h4[data-category]' );\nconst obUserElem = document.querySelectorAll( '.ob-user-grid-elem' );\nconst categories = [];\n\n//populate the categories array for filter menu manipulation\ncategoriesNodeList.forEach( ( category ) => {\n\tif ( category.textContent === '' ) {\n\t\tcategory.textContent = 'UNCATEGORIZED';\n\t\tcategory.dataset.category = 'UNCATEGORIZED';\n\t}\n\tcategories.push( category.textContent );\n} );\n\nconst cleanCategories = [ 'ALL', ...new Set( categories ) ];\n\n/*\n * checkOverflow function: a function checking if the users are enough to overflow and needs to scroll\n */\nconst checkOverflow = ( el ) => {\n\tconst isOverflowing =\n\t\tel.clientWidth < el.scrollWidth || el.clientHeight < el.scrollHeight;\n\treturn isOverflowing;\n};\n// if the users grid need to scroll the next arrow is showed\nif ( checkOverflow( usersContainer ) === false ) {\n\tarrowNext.classList.add( 'hide' );\n} else {\n\tarrowNext.classList.remove( 'hide' );\n}\n\n/*\n * Filter users function\n */\nconst filterUsers = ( e ) => {\n\t//select all the filters and remove the active class if it is present\n\tdocument\n\t\t.querySelectorAll( '.ob-user-grid-filters > button' )\n\t\t.forEach( ( btn ) => btn.classList.remove( 'active' ) );\n\n\t// set the clicked filter as ACTIVE\n\te.target.classList.add( 'active' );\n\n\t// if previously hidden, show all the users in the grid\n\tobUserElem.forEach( ( item ) => item.classList.remove( 'hide' ) );\n\n\tif ( e.target.dataset.category !== 'ALL' ) {\n\t\t// if the clicked filter is not ALL\n\n\t\t// select al the users that do not have the dataset category\n\t\tconst obUserElemFiltered = document.querySelectorAll(\n\t\t\t`.ob-user-grid-elem:not(:has([data-category=\"${ e.target.dataset.category }\"]))`\n\t\t);\n\n\t\t// all the selected items are hidden\n\t\tobUserElemFiltered.forEach( ( item ) => {\n\t\t\titem.classList.add( 'closing' );\n\n\t\t\t// after the animation ending, remove the element from the grid\n\t\t\titem.addEventListener(\n\t\t\t\t'animationend',\n\t\t\t\t() => {\n\t\t\t\t\titem.classList.add( 'hide' );\n\t\t\t\t\titem.classList.remove( 'closing' );\n\n\t\t\t\t\t// check if after the removal caused by the applied filter the arrow is still needed\n\t\t\t\t\tif ( checkOverflow( usersContainer ) === false ) {\n\t\t\t\t\t\tarrowNext.classList.add( 'hide' );\n\t\t\t\t\t\tarrowPrev.classList.add( 'hide' );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tarrowNext.classList.remove( 'hide' );\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{ once: true }\n\t\t\t);\n\t\t} );\n\t} else {\n\t\tarrowNext.classList.remove( 'hide' );\n\t}\n};\n\n/*\n * Create filter buttons: creates all the filter buttons and attaches an click event listener\n */\ncleanCategories.forEach( ( category ) => {\n\tconst catBtn = document.createElement( 'button' );\n\tcatBtn.innerText = category;\n\tcatBtn.classList = `category-btn ${ category }`;\n\tcatBtn.dataset.category = category;\n\tif ( category === 'ALL' ) catBtn.classList.add( 'active' );\n\tfiltersContainer.append( catBtn );\n\tcatBtn.addEventListener( 'click', filterUsers );\n} );\n\n/*\n * User grid navigation functionality\n */\n\n// NEXT\narrowNext.addEventListener( 'click', () => {\n\tconst userElem = document.querySelectorAll(\n\t\t'.ob-user-grid-elem:not(.hide)'\n\t);\n\tusersContainer.scrollTo( {\n\t\tleft: usersContainer.scrollLeft + userElem[ 0 ].offsetWidth + 1,\n\t\tbehavior: 'smooth',\n\t} );\n\n\tarrowPrev.classList.remove( 'hide' );\n\n\tif (\n\t\tusersContainer.offsetWidth + usersContainer.scrollLeft + 5 >=\n\t\tusersContainer.scrollWidth\n\t)\n\t\tarrowNext.classList.add( 'hide' );\n} );\n\n// PREV\narrowPrev.addEventListener( 'click', () => {\n\tconst userElem = document.querySelectorAll(\n\t\t'.ob-user-grid-elem:not(.hide)'\n\t);\n\tusersContainer.scrollTo( {\n\t\tleft: usersContainer.scrollLeft - userElem[ 0 ].offsetWidth - 10,\n\t\tbehavior: 'smooth',\n\t} );\n\n\tarrowNext.classList.remove( 'hide' );\n\n\tif ( usersContainer.scrollLeft === 0 ) arrowPrev.classList.add( 'hide' );\n} );\n\n// ON MOUSE AND MOBILE SCROLL\nusersContainer.addEventListener( 'scroll', () => {\n\tif (\n\t\tusersContainer.offsetWidth + usersContainer.scrollLeft >=\n\t\tusersContainer.scrollWidth\n\t) {\n\t\tarrowNext.classList.add( 'hide' );\n\t\tarrowPrev.classList.remove( 'hide' );\n\t} else if ( usersContainer.scrollLeft === 0 ) {\n\t\tarrowPrev.classList.add( 'hide' );\n\t\tarrowNext.classList.remove( 'hide' );\n\t}\n} );\n"],"names":["filtersContainer","document","querySelector","usersContainer","arrowNext","arrowPrev","classList","add","categoriesNodeList","querySelectorAll","obUserElem","categories","forEach","category","textContent","dataset","push","cleanCategories","Set","checkOverflow","el","isOverflowing","clientWidth","scrollWidth","clientHeight","scrollHeight","remove","filterUsers","e","btn","target","item","obUserElemFiltered","addEventListener","once","catBtn","createElement","innerText","append","userElem","scrollTo","left","scrollLeft","offsetWidth","behavior"],"sourceRoot":""}